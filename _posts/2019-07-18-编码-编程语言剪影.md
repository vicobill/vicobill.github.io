---
layout: post
title: 编码-编程语言剪影
categories: coding
date: 2019-07-18 18:37:34 +0800
---
编程语言是整个程序活动中最重要的部分，如同人说话一样，说话是用于表达思想，与人沟通。类似，编程语言是程序员表达思想，与计算机沟通的。

对于计算机而言，能理解的只是电流高低，对应即二进制10。这称为机器语言。计算机内部由集成电路铺就，会有一些处理器元件存在，通过算术逻辑单元(ALU),能进行简单的逻辑运算：与、或、非、移位、比较以及简单的加、减、乘运算。

如今的计算机软件层出不穷，百花齐放，规模也逐年增大，但计算机底层硬件仍然是没有变化。

那么如何让计算机按照我们的意愿去工作？我们这时需要指令。指令是计算机能理解的电流信号。程序员需要编写指令，来让计算机达到计算的目的，让计算机表现出智能。那么计算的内容又如何确定呢？

计算机只能做计算，计算机的智能是人为赋予的。这是一直没有改变的事实。

那么，如何才能赋予计算机智能呢？用计算机能理解的语言沟通，即指令。程序员编写指令，交给计算机，计算机进行计算，反馈出结果。就如同你要让一个外国人帮你做事，那么你得发出让她听得懂的语言，她才能理解，才能顺着你的意思去做。但计算机只懂二进制，那我们要写二进制吗？是的，肯定要的。先辈们就是写二进制的，最初使用打孔纸条，后来使用汇编语言，后来经过先辈们的一代代努力，为了让程序员更简单地命令计算工作，如今编程语言百花齐放，成千上万种。

只要让计算机工作，那么肯定逃不开二进制语言。所以，无论何种语言，最终都会变换成二进制语言。编程语言的选择，完全取决于程序员自己。是程序员创造了编程语言。每种编程语言有其自身适应业务，比如使用汇编语言可以直接面向硬件编程，因为汇编语言很容易转换成机器语言；使用C语言，可以面向系统编程，因为大多数系统本身是使用C语言写就；使用JavaScript可以面向浏览器编程，因为浏览器核心可以解释JavaScript代码等等。

所有的编程语言，无论其如何变化，其实质是没有改变的，所谓万变不离其宗。编程语言的核心，仍然是指示计算机工作。编程语言在机器语言之上，构建出了更利于人类使用的概念。如Ruby，Python，C++，Rust，Go等等，都是介于人类和机器之间的语言。人类通过学习编程语言，按照编程语言的语法规则表达思想，写成程序，编程语言将这些程序按照解释规则，转换成机器语言，交由机器进行运算。这是人类和机器进行沟通的方式。机器和人类沟通的方式，则由先辈们具象化了，即：机器的反馈是以人类能理解的方式表现，如声音、图像、文字、视频等。

那编程语言都有的是什么东西呢？这要从程序本身入手。程序本身是由指令和数据组成，演化为如今是算法与数据结构。指令或算法，在编程语言中，通常表现为：控制语句、逻辑判断、基础运算等；数据，更多指的是数据的存储。

在编程语言中，常常分为两派：C和Lisp。

C语言是从汇编发展而来，很多概念也继承过来。其中的核心为指令，它将指令分为了：控制语句、逻辑判断语句、运算符、跳转语句等。数据则分为整数、小数、指针等基本数据，以及数组、结构体等数据结构。

Lisp语言则承自数学，是数学与计算机相结合的结晶。它的核心是演算。它以表为基础，以函数为中心原则。它的数据就是以表指代，它的指令皆为函数。

现今的编程语言，都是从这两者发展而来。不过在它们基础之上，附加了更多概念。如，附加面向对象概念，是为了解决大型软件开发中的代码复用、扩展等问题；附加函数式概念，是为了解决并行运算中的数据安全等问题。

C系代表着性能、状态、副作用、嵌入式；Lisp系代表着灵活、太极(元能力)、慢。

## 编程语言通用概念
### 注释：解释源码的注解文字
注释常常在解释或编译时会被丢弃，用于给代码阅读者以参考。
### 变量：用于存储数据。
变量用于存储数据，会在内存中有其空间。静态编程语言中，每个变量都要有数据类型，用于预分配内存空间；动态编程语言变量的类型是动态的，内存不固定，所以常常伴随垃圾回收机制。
### 字面量：是一个固定值的表示法。
用于赋值给变量。字面量是原值，本身不可改变。如字面量10和字面量11，代表的是不同的值。如：
``` rust
10,0x1001,020,"string",true,5.83,3.14e2
[1,2,3],(1,2,3)
{name:"Xiao",age:30}
```

### 符号：是指代内容的字串。
是不可更改的，是由编译器或解释器使用的文本，如：
``` ruby
a = 10
a = "name"
a = @b
```
a是变量，在最初赋值为10，之后赋值为"name"，但最后赋值为b所具有的值。其中，文本a和文本@b就是符号，10和"name"是字面量。但a和@b是变量。
### 函数/过程/方法/lambda表达式：运算规则
函数是从数学发展而来，用于表述参数的运算规则。函数可以有返回值，也可以没有返回值。没有返回值的函数，通常称为过程。
``` ruby
def ==(a,b)
    a.age == b.age
end
```
### 运算符：符号化函数
运算符是从数学发展过来，其本质还是一种运算规则，是一种符号化的函数。所以，也可以把运算符当作函数。
``` lisp
(+ 1 2)
(/ 3 4)
(> 3 4)
```
### 作用域：变量生存周期
有些变量是临时的，用完即销毁，这就涉及作用域。作用域是限定变量起作用的范围，也称为生命周期，出了作用域，变量即销毁。
### 模块/包/命名空间/库：可供复用的代码集合
如今的程序规模越来越庞大，也越来越精细，往往一个软件的完成，需要多人共同努力完成。代码复用即为了应对这种问题。在代码复用的基础上，产生了许多概念，如库、包、模块等。
### 数据结构：数据组织方式
数据结构在编程语言中，或多或少都有实现，最典型的是数组/列表，几乎所有高级编程语言都有这个概念。随着软件规模扩大化，处理的数据也越来越多，简单地数据结构已经很难应付如今复杂的问题，所以很多编程语言将多种数据结构要么内置于语言，要么置于标准库。内置于语言，多见于脚本语言，它们用于解决日常问题；外置于标准库，可保证语言核心简洁。如你所见，常见数据结构放眼即是。常用数据结构有这样几种：数组、列表、哈希表。
### 数据结构扩展：可自由适应业务，自定义数据结构
数据结构是组织数据的形式，不仅如此，当自定数据结构时，还要有匹配的操纵这个数据结构的一系列函数存在。在C系语言中，常见struct,enum,union等，它们又称为自定数据类型

## 编程语言中的特殊概念
### 面向对象
面向对象的核心是对象——可包含数据(以字段或属性形式)和代码(以过程或方法形式)。方法可操纵字段。程序的实现是以创建大量对象并且互相交互的形式。

面向对象里的两个概念，一为类，一为实例。类是抽象的，可定义此类对象通用的属性和方法；实例是类的具象化个体。

面向对象将函数和变量分为以下几种：
- 类变量：属于整个类，所有实例共享此变量
- 实例变量或属性：术语每个实例自己的数据，每个实例都有此变量的一分副本
- 类方法：属于整个类，只能访问类变量和函数调用参数数据
- 实例方法：属于分散的对象，可访问实例变量、输入参数、类变量等。

面向对象实现3个特征：
- 封装：绑定数据和操纵这些数据的方法，并在失误使用和外部调用时保持安全。主要的是数据隐藏。主要目标是保证数据的隔离安全性。
- 动态分派/消息发送：这是对象而不是任何外部代码的职责。在响应方法调用时，在运行时查找对象关联表，以选择过程代码来执行。也就是，当通过a.do(1)函数调用时，会将消息1分发给a对象，此时a对象会从关联表中查找do方法进行调用。这称之为动态分派。当关联表中有多个同名方法时，此过程称为多重分派。
- 复合，继承和委托：对象可保存其他对象的实例变量，这称为对象复合。复合描述的是has-a关系。继承将所有父类的数据和方法以同名形式存在于子类，类似于完整复制，继承可以快速复用已有代码。继承描述的是is-a关系。复合和继承都能复用代码。委托也可用于替代继承。
- 多态：子类型是多态的一种形式，当调用代码时，可以不用知道它是层次结构中的哪个类。同时，继承层次结构中的同名方法其表现可不同。
- Mixin，Triats：是用于给类添加新的功能，既不是has-a,也不是is-a的形式。

面向对象有其好处在可重用性、可维护性。但随着并行和多线程编程越来越流行，面向对象难以处理这类问题。

面向对象的本质是抽象，越抽象，越可能称为假、大、空。面向对象代码在复用过程中，会出现冗余的情形。

OOP与其他编程语言相比，没有独特的优势，只是提供一种问题建模的方式而已，反而往往带来复杂性。创建类，就是在创建类型，往往把问题的焦点转移到了类型，而不是聚焦数据结构和算法，这有点本末倒置的嫌疑。

