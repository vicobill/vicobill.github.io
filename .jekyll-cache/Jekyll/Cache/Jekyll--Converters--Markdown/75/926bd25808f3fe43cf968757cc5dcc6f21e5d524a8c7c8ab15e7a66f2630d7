I">Õ<h1 id="å‰æ">å‰æ</h1>
<h2 id="ç¼–è¯‘æºä»£ç ">ç¼–è¯‘æºä»£ç </h2>
<ol>
  <li>ä»å›½å†…é•œåƒåœ°å€ä¸‹è½½ <code class="highlighter-rouge">git clone -b 3.1 https://gitee.com/mirrors/godot.git</code></li>
  <li>å®‰è£…pythonï¼Œå¹¶æ·»åŠ è‡³PATH</li>
  <li>å®‰è£…SCons:<code class="highlighter-rouge">pip install scons</code></li>
  <li>å®‰è£…Visual studioæˆ–mingw</li>
  <li>ä½¿ç”¨Sconsç¼–è¯‘æºä»£ç ï¼š <code class="highlighter-rouge">scons p=windows -j8</code>ã€‚ å°†ä¼šåœ¨<code class="highlighter-rouge">bin</code>ç›®å½•ä¸‹ç”Ÿæˆç›®æ ‡å¹³å°å¯æ‰§è¡Œæ–‡ä»¶ã€‚
    <blockquote>
      <p>sconså‚æ•°ï¼šå¯é€šè¿‡scons â€“helpäº†è§£ã€‚</p>

      <p>bits=default/32/64 ç›®æ ‡å¹³å°çš„ä½æ•°</p>

      <p>platform/p=android/javascript/server/windows/x11 ç¼–è¯‘çš„ç›®æ ‡å¹³å°</p>

      <p>target=debug/release_debug/release ç”¨äºç›®æ ‡æ–‡ä»¶çš„æ„å»ºï¼Œå»ºè®®ä½¿ç”¨release_debug</p>

      <p>tools=yes/no æ˜¯å¦æ„å»ºå·¥å…·ã€‚å¦‚æœä¸åŒ…æ‹¬ç¼–è¾‘å™¨å’Œé¡¹ç›®ç®¡ç†å™¨ï¼Œåˆ™ä¸å¯ç”¨ï¼Œå¯ä½¿æ„å»ºå¾—åˆ°çš„äºŒè¿›åˆ¶æ›´å°ã€‚</p>

      <p>use_mingw=yes use_lto=yes ç”¨äºæŒ‡å®šæ„å»ºçš„ç¼–è¯‘å™¨ï¼Œå¹¶ä½¿äºŒè¿›åˆ¶æ›´å°æ›´å¿«
vsproj=yes å¯ä½¿ç”¨VisualStudioå¼€å‘ï¼Œä»¥è‡ªæ·»åŠ C++æ¨¡å—æ‰©å±•å¼•æ“</p>
    </blockquote>
  </li>
</ol>

<p>é€šå¸¸å¦‚æœéœ€è¦è£åˆ‡åŒ…ä½“å¤§å°ï¼Œå¯é€‰æ‹©ï¼š</p>
<blockquote>
  <p>scons target=release optimize=size use_lto=yes deprecated=no disable_3d=yes disable_advanced_gui=yes module_visual_script_enabled=no 
scons p=windows target=release tools=no module_bmp_enabled=no module_bullet_enabled=no module_csg_enabled=no module_dds_enabled=no module_enet_enabled=no module_etc_enabled=no module_gdnative_enabled=no module_gridmap_enabled=no module_hdr_enabled=no module_mbedtls_enabled=no module_mobile_vr_enabled=no module_opus_enabled=no module_pvr_enabled=no module_recast_enabled=no module_regex_enabled=no module_squish_enabled=no module_tga_enabled=no module_thekla_unwrap_enabled=no module_theora_enabled=no module_tinyexr_enabled=no module_vorbis_enabled=no module_webm_enabled=no module_websocket_enabled=no</p>
</blockquote>

<h3 id="linuxå¹³å°ä¸‹ç¼–è¯‘">linuxå¹³å°ä¸‹ç¼–è¯‘ï¼š</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pacman <span class="nt">-S</span> scons pkgconf gcc libxcursor libxinerama libxi libxrandr mesa glu alsa-lib pulseaudio yasm

scons <span class="nt">-j8</span> <span class="nv">platform</span><span class="o">=</span>x11 <span class="nv">use_llvm</span><span class="o">=</span><span class="nb">yes </span><span class="nv">target</span><span class="o">=</span>release_debug
</code></pre></div></div>

<h2 id="æ„å»ºå¯¼å‡ºæ¨¡æ¿">æ„å»ºå¯¼å‡ºæ¨¡æ¿ï¼š</h2>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>scons <span class="nv">platform</span><span class="o">=</span>android <span class="nv">tools</span><span class="o">=</span>no <span class="nv">android_arch</span><span class="o">=</span>armv7
scons <span class="nv">platform</span><span class="o">=</span>&lt;platform&gt; <span class="nv">tools</span><span class="o">=</span>no <span class="nv">android_arch</span><span class="o">=</span>arm64v8
scons <span class="nv">platform</span><span class="o">=</span>&lt;platform&gt; <span class="nv">tools</span><span class="o">=</span>no <span class="nv">android_arch</span><span class="o">=</span>x86

<span class="nb">cd </span>platform/android/java
./gradlew build


å°†ç›®æ ‡æ–‡ä»¶æ‹·è´åˆ°<span class="nv">$HOME</span>/.local/share/godot/templates/[gd-version]/linux_x11_&lt;32|64|_&lt;debug|release&gt;
</code></pre></div></div>

<p>å¹¶å°†ç›®æ ‡æ–‡ä»¶ï¼Œcopyè‡³<code class="highlighter-rouge">%APPDATA%/Godot/templates/&lt;version&gt;/windows_&lt;32|64&gt;_&lt;debug|release&gt;.exe</code>ã€‚åœ¨Godotå¼•æ“å¯¼å‡ºé€‰é¡¹ä¸­ï¼Œ<code class="highlighter-rouge">Custom Template</code>ä¸­é€‰æ‹©æ­¤æ–‡ä»¶ã€‚</p>

<h2 id="ä»linuxäº¤å‰ç¼–è¯‘">ä»linuxäº¤å‰ç¼–è¯‘ï¼š</h2>
<blockquote>
  <p>pacman -S mingw-w64 å¹¶ç¡®ä¿mingw-64åœ¨PATHä¸­ã€‚å¦‚æ— ï¼šexport MINGW32_PREFIX=â€/path/to/i686-w64-mingw32-â€œ
user@host:~$ ${MINGW32_PREFIX}gcc â€“version è¿›è¡ŒéªŒè¯</p>
</blockquote>

<h2 id="å¯¼å‡ºåˆ°android">å¯¼å‡ºåˆ°Androidï¼š</h2>
<ol>
  <li>å®‰è£…Android SDK ,JDK</li>
  <li>è®¾ç½®ANDROID_HOME,ANDROID_NDK_ROOT,ANDROID_NDK_HOME,JAVA_HOME</li>
  <li>åˆ›å»ºä¸€ä¸ªdebug.keystore: <code class="highlighter-rouge">keytool -keyalg RSA -genkeypair -alias androiddebugkey -keypass android -keystore debug.keystore -storepass android -dname "CN=Android Debug,O=Android,C=US" -validity 9999</code> æˆ–è€…åˆ›å»ºä¸€ä¸ªæ­£å¼keystore:<code class="highlighter-rouge">keytool -v -genkey -v -keystore mygame.keystore -alias mygame -keyalg RSA -validity 10000</code></li>
  <li>åœ¨Godotçš„Editor Settingsçš„Exportæ ä¸‹ï¼Œè®¾ç½®Androidè®¾ç½®ã€‚abdç›®å½•%ANDROID_SDK_HOME%/platform-tools/; jarsigner:%JAVA_HOME%/bin/</li>
</ol>

<h2 id="è„šæœ¬åŠ å¯†">è„šæœ¬åŠ å¯†</h2>
<p>openssl enc -aes-256-cbc -k secret -P -md sha1 &gt; godot.gdkey</p>

<h2 id="vscodeç¼–è¾‘å™¨è®¾ç½®">vscodeç¼–è¾‘å™¨è®¾ç½®</h2>
<p>å®‰è£…godot-toolsï¼Œå°†Godot ç¼–è¾‘å™¨çš„å¤–éƒ¨è®¾ç½®å‹¾é€‰ï¼Œé€‰å®šä¸ºvscodeï¼Œå¹¶exec flagè®¾ç½®ï¼š<code class="highlighter-rouge">{project} --goto {file}:{line}:{col}</code></p>

<h1 id="gdscript">GDScript</h1>
<p>GDScriptç±»ä¼¼Booï¼ŒPythonã€‚</p>
<h2 id="åŸºæœ¬è¯­æ³•">åŸºæœ¬è¯­æ³•</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># ä¸€ä¸ªæ–‡ä»¶å³ä¸€ä¸ªç±»
</span>
<span class="c1"># ç»§æ‰¿
</span><span class="n">extends</span> <span class="n">BaseClass</span>

<span class="c1"># ï¼ˆå¯é€‰ï¼‰ç±»å®šä¹‰ï¼Œç»‘å®šè‡ªå®šä¹‰çš„iconã€‚å½“ä½¿ç”¨class_nameæŒ‡å®šåç§°æ—¶ï¼Œä¼šåœ¨æ³¨å†Œä¸€ä¸ªå…¨å±€ç±»å‹ï¼Œå¯ç›´æ¥ä½¿ç”¨é™æ€æ³¨è§£ï¼Œè€Œæ— éœ€preload
</span><span class="n">class_name</span> <span class="n">MyClass</span><span class="p">,</span><span class="s">"res://myclass.svg"</span>

<span class="c1"># æˆå‘˜å˜é‡
</span><span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">var</span> <span class="n">s</span> <span class="o">=</span> <span class="s">"hello"</span>
<span class="n">var</span> <span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s">"hello"</span><span class="p">]</span>
<span class="n">var</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s">"key"</span><span class="p">:</span> <span class="s">"value"</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span> 
<span class="n">var</span> <span class="n">typed_var</span><span class="p">:</span> <span class="nb">int</span>              <span class="c1"># ä¸ºå˜é‡æŒ‡å®šç±»å‹ï¼Œç±»ä¼¼Rustä¸­çš„ç±»å‹æŒ‡å®š
</span><span class="n">var</span> <span class="n">inferred_type</span> <span class="p">:</span><span class="o">=</span> <span class="s">"String"</span>   <span class="c1"># ç±»å‹è‡ªåŠ¨æ¨å¯¼ï¼Œç±»ä¼¼Goè¯­è¨€ä¸­çš„æ¨å¯¼
</span>
<span class="c1"># å¸¸é‡
</span><span class="n">const</span> <span class="n">ANSWER</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">const</span> <span class="n">THE_NAME</span> <span class="o">=</span> <span class="s">"Charly"</span>

<span class="c1"># æšä¸¾ï¼šç±»ä¼¼ä¸Cè¯­è¨€ä¸­çš„æšä¸¾
</span><span class="n">enum</span> <span class="p">{</span><span class="n">UNIT_NEUTRAL</span><span class="p">,</span> <span class="n">UNIT_ENEMY</span><span class="p">,</span> <span class="n">UNIT_ALLY</span><span class="p">}</span>
<span class="n">enum</span> <span class="n">Named</span> <span class="p">{</span><span class="n">THING_1</span><span class="p">,</span> <span class="n">THING_2</span><span class="p">,</span> <span class="n">ANOTHER_THING</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>

<span class="c1"># å†…ç½®å‘é‡ç±»å‹
</span><span class="n">var</span> <span class="n">v2</span> <span class="o">=</span> <span class="n">Vector2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">var</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">Vector3</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="c1"># å‡½æ•°ï¼šç±»ä¼¼Pythonä¸­çš„å‡½æ•°å®šä¹‰
</span>
<span class="n">func</span> <span class="n">some_function</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">):</span>
    <span class="n">var</span> <span class="n">local_var</span> <span class="o">=</span> <span class="mi">5</span>

    <span class="k">if</span> <span class="n">param1</span> <span class="o">&lt;</span> <span class="n">local_var</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">param1</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">param2</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">param2</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Fail!"</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="k">while</span> <span class="n">param2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">param2</span> <span class="o">-=</span> <span class="mi">1</span>

    <span class="n">var</span> <span class="n">local_var2</span> <span class="o">=</span> <span class="n">param1</span> <span class="o">+</span> <span class="mi">3</span>
    <span class="k">return</span> <span class="n">local_var2</span>

<span class="c1"># è¦†ç›–åŸºç±»å‡½æ•°ï¼Œå¦‚æœéœ€è¦è°ƒç”¨åŸºç±»çš„å‡½æ•°ï¼Œåˆ™ä½¿ç”¨ .ï¼ˆå¦‚åŒå…¶ä»–è¯­è¨€é‡Œçš„superï¼‰
</span><span class="n">func</span> <span class="n">something</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
    <span class="o">.</span><span class="n">something</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>

<span class="c1"># åµŒå¥—ç±»ã€‚å› ä¸ºè„šæœ¬æœ¬èº«æ˜¯ä¸€ä¸ªç±»ï¼Œåœ¨è„šæœ¬æ–‡ä»¶é‡Œå®šä¹‰ç±»ï¼Œå³ç›¸å½“äºåµŒå¥—ç±»
</span>
<span class="k">class</span> <span class="nc">Something</span><span class="p">:</span>
    <span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span>

<span class="c1"># æ„é€ å‡½æ•°
</span><span class="n">func</span> <span class="n">_init</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Constructed!"</span><span class="p">)</span>
    <span class="n">var</span> <span class="n">lv</span> <span class="o">=</span> <span class="n">Something</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="n">lv</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></div>

<p>åŸºæœ¬ç±»å‹(int,float,string,vector)é€šè¿‡ä¼ å€¼è°ƒç”¨ï¼Œå…¶ä»–æ‰€æœ‰ä½œä¸ºå¼•ç”¨ä¼ é€’ã€‚ç»§æ‰¿è‡ªReferenceçš„ç±»ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œç»§æ‰¿è‡ªObjectçš„ç±»ï¼Œåˆ™å…è®¸æ‰‹åŠ¨é‡Šæ”¾ã€‚</p>

<h2 id="å¤åˆæ•°æ®ç»“æ„">å¤åˆæ•°æ®ç»“æ„ï¼š</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># æ•°ç»„
</span><span class="n">var</span> <span class="n">arr</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">arr</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">arr</span><span class="o">.</span><span class="n">pop_front</span><span class="p">()</span>

<span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">20</span>
<span class="k">if</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">]:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Winner"</span><span class="p">)</span>
<span class="k">elif</span><span class="p">:</span> 
    <span class="k">print</span><span class="p">(</span><span class="s">"Loser!"</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"do'nt know!"</span><span class="p">)</span>



<span class="c1"># å­—å…¸ï¼šæ— éœ€è€ƒè™‘é”®å€¼çš„æ•°æ®ç±»å‹ï¼Œå®ƒä»¬æ˜¯ä»¥å“ˆå¸Œè¡¨å®ç°ï¼Œéå¸¸é«˜æ•ˆï¼Œæ‰€ä»¥æ”¾å¿ƒç”¨å§ã€‚
</span>
<span class="n">var</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"John"</span><span class="p">,</span> <span class="s">"age"</span><span class="p">:</span> <span class="mi">22</span><span class="p">}</span> <span class="c1"># Simple syntax
</span><span class="k">print</span><span class="p">(</span><span class="s">"Name: "</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="s">"name"</span><span class="p">],</span> <span class="s">" Age: "</span><span class="p">,</span> <span class="n">d</span><span class="p">[</span><span class="s">"age"</span><span class="p">])</span>

<span class="n">d</span><span class="p">[</span><span class="s">"mother"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Rebecca"</span> <span class="c1"># Addition
</span><span class="n">d</span><span class="p">[</span><span class="s">"age"</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span> <span class="c1"># Modification
</span><span class="n">d</span><span class="o">.</span><span class="n">erase</span><span class="p">(</span><span class="s">"name"</span><span class="p">)</span> <span class="c1"># Removal
</span>
<span class="c1"># ä¹Ÿå¯ä½¿ç”¨Luaé£æ ¼çš„è¡¨ï¼Œè¿™ç§è¯­æ³•æ›´å¯è¯»ã€æ˜“ç”¨ã€‚ä½†è¿™ç§çš„keyä¸ºæ ‡è¯†ï¼Œä¸å¯ä»¥æ•°å­—å¼€å¤´
</span><span class="n">var</span> <span class="n">d</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">"John"</span><span class="p">,</span>
    <span class="n">age</span> <span class="o">=</span> <span class="mi">22</span>
<span class="p">}</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Name: "</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s">" Age: "</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">age</span><span class="p">)</span> <span class="c1"># Used "." based indexing
</span>
<span class="c1"># Indexing
</span>
<span class="n">d</span><span class="p">[</span><span class="s">"mother"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"Rebecca"</span>
<span class="n">d</span><span class="o">.</span><span class="n">mother</span> <span class="o">=</span> <span class="s">"Caroline"</span> <span class="c1"># This would work too to create a new key
</span>
<span class="c1"># range
</span><span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="c1"># å¯¹åº”çš„å€¼ä¸º[0,n) 
</span><span class="nb">range</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="c1"># å¯¹åº”ä¸º[b,n)
</span><span class="nb">range</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">s</span><span class="p">)</span> <span class="c1"># å¯¹åº”ä¸º[b,n),æ¯æ­¥è¿›s
</span></code></pre></div></div>
<h2 id="æ§åˆ¶ç»“æ„">æ§åˆ¶ç»“æ„</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># æ¡ä»¶åˆ¤æ–­
</span><span class="n">var</span> <span class="n">paid</span> <span class="o">=</span> <span class="n">false</span>
<span class="n">var</span> <span class="n">x</span> <span class="o">=</span> <span class="mf">9.9</span> <span class="k">if</span> <span class="n">paid</span> <span class="k">else</span> <span class="mf">1.0</span>

<span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
<span class="k">elif</span><span class="p">:</span>
<span class="k">else</span><span class="p">:</span>

<span class="c1"># åŒ¹é…
</span><span class="n">match</span> <span class="n">x</span><span class="p">:</span>
    <span class="mi">1</span><span class="p">:</span> 
        <span class="k">print</span><span class="p">(</span><span class="s">"1"</span><span class="p">)</span>
        <span class="k">continue</span>    <span class="c1"># fallthrough
</span>    <span class="mi">2</span><span class="p">:</span> 
        <span class="k">print</span><span class="p">(</span><span class="s">"2"</span><span class="p">)</span>
    <span class="s">"test"</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"test"</span><span class="p">)</span>
    <span class="n">_</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"other"</span><span class="p">)</span>
    <span class="n">var</span> <span class="n">v</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"v is "</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="p">[</span><span class="n">var</span> <span class="n">start</span><span class="p">,</span><span class="n">_</span><span class="p">,</span><span class="s">"test"</span><span class="p">]:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"åŒ¹é…æ•°ç»„"</span><span class="p">)</span>
    <span class="p">[</span><span class="mi">42</span><span class="p">,</span><span class="o">..</span><span class="p">]:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"åŒ¹é…å¼€æ”¾ç»“å°¾æ•°ç»„"</span><span class="p">)</span>
    <span class="p">{</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"Dennis"</span><span class="p">,</span> <span class="s">"age"</span><span class="p">:</span> <span class="n">var</span> <span class="n">age</span><span class="p">}:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"åŒ¹é…Dennisï¼Œå–å…¶å¹´é¾„"</span><span class="p">,</span> <span class="n">age</span><span class="p">)</span>
    <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"å¤šåŒ¹é…"</span><span class="p">)</span>
    


<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>     <span class="c1"># å¯¹åº”çš„æ˜¯ï¼šfor(int i =0; i &lt; 10; ++i)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">):</span>     <span class="c1"># å¯¹åº”çš„æ˜¯ï¼šfor(int i =1; i &lt; 10; ++i)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>     <span class="c1"># å¯¹åº”çš„æ˜¯ï¼šfor(int i =1; i &lt; 10; i+=3)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>     <span class="c1"># å¯¹åº”çš„æ˜¯ï¼šfor(int i =10; i &gt; 0; --i)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mi">3</span><span class="p">:</span> <span class="c1"># ç±»ä¼¼ for i in range(3)
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="mf">2.2</span><span class="p">:</span> <span class="c1"># ç±»ä¼¼ for i in range(ceil(2.2))
</span>
<span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>

<span class="c1"># è‡ªå®šä¹‰è¿­ä»£å™¨ï¼Œéœ€è¦è¦†ç›–ï¼š_iter_init, _iter_next, _iter_getä¸‰ä¸ªå‡½æ•°ã€‚
</span><span class="k">class</span> <span class="nc">ForwardIterator</span><span class="p">:</span>
    <span class="n">var</span> <span class="n">start</span>
    <span class="n">var</span> <span class="n">current</span>
    <span class="n">var</span> <span class="n">end</span>
    <span class="n">var</span> <span class="n">increment</span>

    <span class="n">func</span> <span class="n">_init</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">increment</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">stop</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">increment</span> <span class="o">=</span> <span class="n">increment</span>

    <span class="n">func</span> <span class="n">should_continue</span><span class="p">():</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">current</span> <span class="o">&lt;</span> <span class="n">end</span><span class="p">)</span>

    <span class="n">func</span> <span class="n">_iter_init</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">current</span> <span class="o">=</span> <span class="n">start</span>
        <span class="k">return</span> <span class="n">should_continue</span><span class="p">()</span>

    <span class="n">func</span> <span class="n">_iter_next</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">current</span> <span class="o">+=</span> <span class="n">increment</span>
        <span class="k">return</span> <span class="n">should_continue</span><span class="p">()</span>

    <span class="n">func</span> <span class="n">_iter_get</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">current</span>

<span class="c1"># è‡ªå®šè¿­ä»£å™¨çš„ä½¿ç”¨
</span><span class="n">var</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">ForwardIterator</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">itr</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="c1"># Will print 0, 2, and 4
</span>
</code></pre></div></div>

<h2 id="é™æ€æ³¨è§£ä¸ç±»å‹è½¬æ¢">é™æ€æ³¨è§£ä¸ç±»å‹è½¬æ¢</h2>
<p>é™æ€ç±»å‹æ³¨è§£æœ‰åŠ©äºæ•´ä¸ªç¼–è¯‘å™¨hintã€‚å½“éœ€è¦ç±»å‹è½¬æ¢æ—¶ï¼Œå¯ä½¿ç”¨<code class="highlighter-rouge">as</code>è¿›è¡Œè½¬æ¢ã€‚</p>

<p>ç±»å‹æ³¨è§£ä¸å¯ç”¨äºï¼š</p>
<ul>
  <li>Enum</li>
  <li>æ•°ç»„æˆå‘˜</li>
  <li>forå¾ªç¯ä¸­å˜é‡ç±»å‹</li>
  <li>å¾ªç¯ä¾èµ–çš„è„šæœ¬ä¸­</li>
</ul>

<h2 id="é¸­å­ç±»å‹çµæ„Ÿæ¥è‡ªäºruby">é¸­å­ç±»å‹ï¼šçµæ„Ÿæ¥è‡ªäºRUBY</h2>
<p>å¸¸è§„é™æ€è¯­è¨€ä¸­ï¼Œå®ç°â€œçŸ³å¤´ç ¸ä¸‹ï¼Œç ¸ç¢äº†è·¯ä¸Šçš„ä¸€åˆ‡â€ï¼Œå¯èƒ½çš„å®ç°ä¸ºï¼š</p>
<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">BigRock</span><span class="o">::</span><span class="n">on_object_hit</span><span class="p">(</span><span class="n">Smashable</span> <span class="o">*</span><span class="n">entity</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">entity</span><span class="o">-&gt;</span><span class="n">smash</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>
<p>è¿™æ ·ï¼Œæ‰€æœ‰èƒ½è¢«ç ¸ç¢çš„ä¸œè¥¿ï¼Œéƒ½éœ€ç»§æ‰¿è‡ª<code class="highlighter-rouge">Smashable</code>ã€‚äººã€æ•Œäººã€å®¶å…·ã€å°çŸ³å—éƒ½éœ€ç»§æ‰¿<code class="highlighter-rouge">Smashable</code>ï¼Œå¯èƒ½éœ€è¦å¤šé‡ç»§æ‰¿ã€‚å¦‚æœä¸å¸Œæœ›å¤šé‡ç»§æ‰¿ï¼Œåˆ™å¿…é¡»ç»§æ‰¿å¦‚Entityè¿™æ ·çš„ç±»ã€‚ä½†åªæœ‰å…¶ä¸­å‡ ä¸ªèƒ½è¢«ç²‰ç¢çš„è¯ï¼Œåœ¨Entityä¸­æ·»åŠ <code class="highlighter-rouge">smash()</code>æ–¹æ³•å¹¶ä¸ä¼˜é›…ã€‚</p>

<p>å¯¹äºé¸­å­ç±»å‹è€Œè¨€ï¼Œè¦ç®€å•çš„å¤šï¼Œåªè¦å®ç°äº†<code class="highlighter-rouge">smash()</code>ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å¯è¢«ç²‰ç¢çš„ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">on_object_hit</span><span class="p">(</span><span class="n">entity</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">entity</span><span class="o">.</span><span class="n">has_method</span><span class="p">(</span><span class="s">"smash"</span><span class="p">):</span>
        <span class="n">entity</span><span class="o">.</span><span class="n">smash</span><span class="p">()</span>

<span class="n">func</span> <span class="n">heal</span><span class="p">(</span><span class="n">amount</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">void</span><span class="p">:</span>
    <span class="n">hp</span> <span class="o">+=</span> <span class="n">amount</span>

</code></pre></div></div>

<h2 id="å¯¼å‡º">å¯¼å‡º</h2>
<p>ç±»æˆå‘˜å¯è¢«å¯¼å‡ºï¼Œç”±ç¼–è¾‘å™¨ç¼–è¾‘ã€‚è¯­æ³•ï¼š</p>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># If the exported value assigns a constant or constant expression,
# the type will be inferred and used in the editor.
</span>
<span class="n">export</span> <span class="n">var</span> <span class="n">number</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># Export can take a basic data type as an argument, which will be
# used in the editor.
</span>
<span class="n">export</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="n">var</span> <span class="n">number</span>

<span class="c1"># Export can also take a resource type to use as a hint.
</span>
<span class="n">export</span><span class="p">(</span><span class="n">Texture</span><span class="p">)</span> <span class="n">var</span> <span class="n">character_face</span>
<span class="n">export</span><span class="p">(</span><span class="n">PackedScene</span><span class="p">)</span> <span class="n">var</span> <span class="n">scene_file</span>
<span class="c1"># There are many resource types that can be used this way, try e.g.
# the following to list them:
</span><span class="n">export</span><span class="p">(</span><span class="n">Resource</span><span class="p">)</span> <span class="n">var</span> <span class="n">resource</span>

<span class="c1"># Integers and strings hint enumerated values.
</span>
<span class="c1"># Editor will enumerate as 0, 1 and 2.
</span><span class="n">export</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="s">"Warrior"</span><span class="p">,</span> <span class="s">"Magician"</span><span class="p">,</span> <span class="s">"Thief"</span><span class="p">)</span> <span class="n">var</span> <span class="n">character_class</span>
<span class="c1"># Editor will enumerate with string names.
</span><span class="n">export</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="s">"Rebecca"</span><span class="p">,</span> <span class="s">"Mary"</span><span class="p">,</span> <span class="s">"Leah"</span><span class="p">)</span> <span class="n">var</span> <span class="n">character_name</span>

<span class="c1"># Named Enum Values
</span>
<span class="c1"># Editor will enumerate as THING_1, THING_2, ANOTHER_THING.
</span><span class="n">enum</span> <span class="n">NamedEnum</span> <span class="p">{</span><span class="n">THING_1</span><span class="p">,</span> <span class="n">THING_2</span><span class="p">,</span> <span class="n">ANOTHER_THING</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<span class="n">export</span> <span class="p">(</span><span class="n">NamedEnum</span><span class="p">)</span> <span class="n">var</span> <span class="n">x</span>

<span class="c1"># Strings as Paths
</span>
<span class="c1"># String is a path to a file.
</span><span class="n">export</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">FILE</span><span class="p">)</span> <span class="n">var</span> <span class="n">f</span>
<span class="c1"># String is a path to a directory.
</span><span class="n">export</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">DIR</span><span class="p">)</span> <span class="n">var</span> <span class="n">f</span>
<span class="c1"># String is a path to a file, custom filter provided as hint.
</span><span class="n">export</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">FILE</span><span class="p">,</span> <span class="s">"*.txt"</span><span class="p">)</span> <span class="n">var</span> <span class="n">f</span>

<span class="c1"># Using paths in the global filesystem is also possible,
# but only in tool scripts (see further below).
</span>
<span class="c1"># String is a path to a PNG file in the global filesystem.
</span><span class="n">export</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">FILE</span><span class="p">,</span> <span class="n">GLOBAL</span><span class="p">,</span> <span class="s">"*.png"</span><span class="p">)</span> <span class="n">var</span> <span class="n">tool_image</span>
<span class="c1"># String is a path to a directory in the global filesystem.
</span><span class="n">export</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">DIR</span><span class="p">,</span> <span class="n">GLOBAL</span><span class="p">)</span> <span class="n">var</span> <span class="n">tool_dir</span>

<span class="c1"># The MULTILINE setting tells the editor to show a large input
# field for editing over multiple lines.
</span><span class="n">export</span><span class="p">(</span><span class="n">String</span><span class="p">,</span> <span class="n">MULTILINE</span><span class="p">)</span> <span class="n">var</span> <span class="n">text</span>

<span class="c1"># Limiting editor input ranges
</span>
<span class="c1"># Allow integer values from 0 to 20.
</span><span class="n">export</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="n">var</span> <span class="n">i</span>
<span class="c1"># Allow integer values from -10 to 20.
</span><span class="n">export</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="n">var</span> <span class="n">j</span>
<span class="c1"># Allow floats from -10 to 20, with a step of 0.2.
</span><span class="n">export</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span> <span class="n">var</span> <span class="n">k</span>
<span class="c1"># Allow values y = exp(x) where y varies between 100 and 1000
# while snapping to steps of 20. The editor will present a
# slider for easily editing the value.
</span><span class="n">export</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">EXP</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span> <span class="n">var</span> <span class="n">l</span>

<span class="c1"># Floats with Easing Hint
</span>
<span class="c1"># Display a visual representation of the ease() function
# when editing.
</span><span class="n">export</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="n">EASE</span><span class="p">)</span> <span class="n">var</span> <span class="n">transition_speed</span>

<span class="c1"># Colors
</span>
<span class="c1"># Color given as Red-Green-Blue value
</span><span class="n">export</span><span class="p">(</span><span class="n">Color</span><span class="p">,</span> <span class="n">RGB</span><span class="p">)</span> <span class="n">var</span> <span class="n">col</span> <span class="c1"># Color is RGB.
# Color given as Red-Green-Blue-Alpha value
</span><span class="n">export</span><span class="p">(</span><span class="n">Color</span><span class="p">,</span> <span class="n">RGBA</span><span class="p">)</span> <span class="n">var</span> <span class="n">col</span> <span class="c1"># Color is RGBA.
</span>
<span class="c1"># Another node in the scene can be exported, too.
</span><span class="n">export</span><span class="p">(</span><span class="n">NodePath</span><span class="p">)</span> <span class="n">var</span> <span class="n">node</span>

<span class="c1"># Individually edit the bits of an integer.
</span><span class="n">export</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">FLAGS</span><span class="p">)</span> <span class="n">var</span> <span class="n">spell_elements</span> <span class="o">=</span> <span class="n">ELEMENT_WIND</span> <span class="o">|</span> <span class="n">ELEMENT_WATER</span>

<span class="c1"># Set any of the given flags from the editor.
</span><span class="n">export</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">FLAGS</span><span class="p">,</span> <span class="s">"Fire"</span><span class="p">,</span> <span class="s">"Water"</span><span class="p">,</span> <span class="s">"Earth"</span><span class="p">,</span> <span class="s">"Wind"</span><span class="p">)</span> <span class="n">var</span> <span class="n">spell_elements</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Exported array, shared between all instances.
# Default value must be a constant expression.
</span>
<span class="n">export</span> <span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="c1"># Exported arrays can specify type (using the same hints as before).
</span>
<span class="n">export</span><span class="p">(</span><span class="n">Array</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="n">var</span> <span class="n">ints</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">export</span><span class="p">(</span><span class="n">Array</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="s">"Red"</span><span class="p">,</span> <span class="s">"Green"</span><span class="p">,</span> <span class="s">"Blue"</span><span class="p">)</span> <span class="n">var</span> <span class="n">enums</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">export</span><span class="p">(</span><span class="n">Array</span><span class="p">,</span> <span class="n">Array</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="n">var</span> <span class="n">two_dimensional</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]]</span>

<span class="c1"># You can omit the default value, but then it would be null if not assigned.
</span>
<span class="n">export</span><span class="p">(</span><span class="n">Array</span><span class="p">)</span> <span class="n">var</span> <span class="n">b</span>
<span class="n">export</span><span class="p">(</span><span class="n">Array</span><span class="p">,</span> <span class="n">PackedScene</span><span class="p">)</span> <span class="n">var</span> <span class="n">scenes</span>

<span class="c1"># Typed arrays also work, only initialized empty:
</span>
<span class="n">export</span> <span class="n">var</span> <span class="n">vector3s</span> <span class="o">=</span> <span class="n">PoolVector3Array</span><span class="p">()</span>
<span class="n">export</span> <span class="n">var</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">PoolStringArray</span><span class="p">()</span>

<span class="c1"># Regular array, created local for every instance.
# Default value can include run-time values, but can't
# be exported.
</span>
<span class="n">var</span> <span class="n">c</span> <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div></div>

<h2 id="ä¿¡å·">ä¿¡å·</h2>
<p>ä¿¡å·æ˜¯å¯¹è±¡å‘å‡ºæ¶ˆæ¯çš„å·¥å…·ï¼Œä»¥è®©å…¶ä»–å¯¹è±¡å“åº”ã€‚ä¿¡å·æ˜¯å›è°ƒæœºåˆ¶ï¼Œä¹Ÿæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚ä¾‹å¦‚ï¼š</p>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># åœ¨Game.gdä¸­
</span><span class="n">func</span> <span class="n">_ready</span><span class="p">():</span>
   <span class="n">var</span> <span class="n">character_node</span> <span class="o">=</span> <span class="n">get_node</span><span class="p">(</span><span class="s">'Character'</span><span class="p">)</span>
   <span class="n">var</span> <span class="n">lifebar_node</span> <span class="o">=</span> <span class="n">get_node</span><span class="p">(</span><span class="s">'UserInterface/Lifebar'</span><span class="p">)</span>

   <span class="n">character_node</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"health_changed"</span><span class="p">,</span> <span class="n">lifebar_node</span><span class="p">,</span> <span class="s">"_on_Character_health_changed"</span><span class="p">)</span>
 
<span class="c1"># åœ¨Role.gdä¸­
</span><span class="n">signal</span> <span class="n">health_changed</span>

<span class="n">func</span> <span class="n">take_damage</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="n">var</span> <span class="n">old_hp</span> <span class="o">=</span> <span class="n">hp</span><span class="p">;</span>
    <span class="n">hp</span> <span class="o">-=</span> <span class="n">n</span>

    <span class="n">emit_signal</span><span class="p">(</span><span class="s">"health_changed"</span><span class="p">,</span> <span class="n">old_hp</span><span class="p">,</span> <span class="n">hp</span><span class="p">)</span>

  
<span class="c1"># åœ¨Lifebar.gdä¸­
</span><span class="n">func</span> <span class="n">_on_Character_health_changed</span><span class="p">(</span><span class="n">old_value</span><span class="p">,</span> <span class="n">new_value</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">old_value</span> <span class="o">&gt;</span> <span class="n">new_value</span><span class="p">:</span>
        <span class="n">progress_bar</span><span class="o">.</span><span class="n">modulate</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">red</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">progress_bar</span><span class="o">.</span><span class="n">modulate</span> <span class="o">=</span> <span class="n">Color</span><span class="o">.</span><span class="n">green</span>

    <span class="c1"># Imagine that `animate` is a user-defined function that animates the
</span>    <span class="c1"># bar filling up or emptying itself
</span>    <span class="n">progress_bar</span><span class="o">.</span><span class="n">animate</span><span class="p">(</span><span class="n">old_value</span><span class="p">,</span> <span class="n">new_value</span><span class="p">)</span>

</code></pre></div></div>

<h2 id="yieldè®©æƒå‡½æ•°">yieldï¼šè®©æƒå‡½æ•°</h2>
<p>å¯å°†å½“å‰å‡½æ•°æ‰§è¡Œæƒè®©å‡ºã€‚yieldåŒ…å«ä¸¤ä¸ªå‚æ•°ï¼š(object, signal)ã€‚ä¾‹å¦‚</p>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">func</span> <span class="n">my_func</span><span class="p">():</span>
    <span class="k">yield</span><span class="p">(</span><span class="n">button_func</span><span class="p">(),</span> <span class="s">"completed"</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"All buttons were pressed, hurray!"</span><span class="p">)</span>

<span class="n">func</span> <span class="n">button_func</span><span class="p">():</span>
    <span class="k">yield</span><span class="p">(</span><span class="err">$</span><span class="n">Button0</span><span class="p">,</span> <span class="s">"pressed"</span><span class="p">)</span>
    <span class="k">yield</span><span class="p">(</span><span class="err">$</span><span class="n">Button1</span><span class="p">,</span> <span class="s">"pressed"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="å†…ç½®æ•°æ®ç±»å‹">å†…ç½®æ•°æ®ç±»å‹ï¼š</h2>
<ul>
  <li>null, true,false</li>
  <li>int,float</li>
  <li>String</li>
  <li>Vector2,Rect2,Vector3</li>
  <li>Transform2D : 3x2çŸ©é˜µ</li>
  <li>Plane: å¹³é¢ï¼ŒåŒ…å«æ³•çº¿ï¼šnormalå’Œè·ç¦»ï¼šd</li>
  <li>Quatï¼šå››å…ƒç»„ï¼Œè¡¨ç¤º3Dæ—‹è½¬</li>
  <li>AABBï¼šåŒ…å›´ç›’</li>
  <li>Basisï¼š3x3çŸ©é˜µ</li>
  <li>Transform: 3Då˜æ¢ï¼ŒåŒ…å«basiså’Œorigin</li>
  <li>Color:</li>
  <li>NodePath:ç¼–è¯‘è¿‡çš„èŠ‚ç‚¹è·¯å¾„ï¼Œä¸»è¦ç”¨äºåœºæ™¯ç³»ç»Ÿä¸­ã€‚æœ¬èº«æ˜¯ä¸€ä¸ªå­—ä¸²</li>
  <li>RID: ResourceID</li>
  <li>Objectï¼š ä¸€åˆ‡ç±»çš„åŸºç±»</li>
  <li>Arrayï¼š ä»»æ„ç±»å‹æ•°ç»„é›†åˆ</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Pool[Byte</td>
          <td>Int</td>
          <td>Real</td>
          <td>String</td>
          <td>Vector2</td>
          <td>Vector3</td>
          <td>Color]Array: åŒç±»å‹æ•°ç»„</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>Dictionaryï¼š</li>
</ul>

<h3 id="é™„å…³é”®å­—åˆ—è¡¨">é™„ï¼šå…³é”®å­—åˆ—è¡¨</h3>
<p>|å…³é”®å­—|ä½œç”¨|
|â€”|â€”|
| if,elif,else | æ¡ä»¶åˆ¤æ–­ |
| match| æ¨¡å¼åŒ¹é… |
| for,while| å¾ªç¯|
| break,continue| è·³è½¬|
| pass | ç”¨äºæš‚æ— å®ç°ä»£ç çš„å‡½æ•°ç»“æ„ |
| return | ä»å‡½æ•°è¿”å›å€¼|
| class | å®šä¹‰ç±»|
| extends | æ‰©å±•ç±» |
| is| å˜é‡æ˜¯å¦æ‰©å±•è‡ªæŒ‡å®šç±»æˆ–ç»™å®šçš„å†…ç½®ç±»å‹|
| in | å†…å®¹æµ‹è¯• | 
| and ,not, or | é€»è¾‘åˆ¤æ–­ | 
| as | å°è¯•ç±»å‹è½¬æ¢ | 
| self | å½“å‰ç±»å®ä¾‹ | 
| tool | åœ¨ç¼–è¾‘å™¨ä¸­æ‰§è¡Œè„šæœ¬ |
| signal | å®šä¹‰ä¿¡å·|
| func | å®šä¹‰å‡½æ•°|
| static | å®šä¹‰é™æ€å‡½æ•° | 
| const| å®šä¹‰å¸¸é‡|
|enum| å®šä¹‰æšä¸¾|
| var | å®šä¹‰å˜é‡|
| onready | å½“è„šæœ¬é™„ç€åˆ°èŠ‚ç‚¹æ—¶ï¼Œåˆå§‹åŒ–ä¸€æ¬¡ | 
| export | å¯¼å‡ºç±»æˆå‘˜ï¼Œå¯è¢«ç¼–è¾‘å™¨ç¼–è¾‘ã€‚|
| setget| å®šä¹‰å˜é‡çš„setgetå‡½æ•°|
| breakpoint | ç¼–è¾‘å™¨è¾…åŠ©çš„è°ƒè¯•å™¨æ–­ç‚¹|
| preload | é¢„åŠ è½½ç±»æˆ–å˜é‡|
| yield | åç¨‹æ”¯æŒ|
| assert | æ–­è¨€|
| remote,master,puppet,remotesync,mastersync,puppetsync| ç½‘ç»œRPCç›¸å…³|
| PI,TAU,INF,NAN | æ•°å­¦è¾…åŠ©å¸¸é‡|
| null,true,false| é»˜è®¤ç±»å‹|</p>
<h3 id="é™„å­—é¢é‡">é™„ï¼šå­—é¢é‡ï¼š</h3>
<ul>
  <li>â€â€â€ : å¤šè¡Œå­—ä¸²</li>
  <li>@â€Node/Labelâ€ : NodePathæˆ–StringName</li>
  <li>$NodePath: get_node(â€œNodePathâ€)çš„ç¼©å†™</li>
</ul>

<h2 id="gdscriptä»£ç ç»“æ„">GDScriptä»£ç ç»“æ„</h2>
<ul>
  <li>ä»£ç å…¥å£ç‚¹ï¼š</li>
</ul>

<p>å†…ç½®å‡½æ•°éƒ½å‰ç¼€ä¸‹åˆ’çº¿<code class="highlighter-rouge">_</code></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">_ready</span> <span class="p">:</span> <span class="err">è¿™æ˜¯ç”±å¼•æ“è°ƒç”¨çš„ï¼Œå½“æ¯ä¸ªèŠ‚ç‚¹è¿›å…¥åœºæ™¯æ ‘æ—¶è‡ªåŠ¨è°ƒç”¨ï¼Œä¹Ÿå¯è‡ªå®šä¹‰è¦†ç›–æ­¤å‡½æ•°</span>
<span class="n">_process</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span> <span class="err">ï¼š</span> <span class="err">è¿™ç”±å¼•æ“è°ƒç”¨ï¼Œæ¯å¸§è°ƒç”¨</span>

<span class="n">_enter_tree</span><span class="p">:</span> <span class="err">è¿›å…¥åœºæ™¯æ ‘æ—¶è°ƒç”¨</span>
<span class="n">_exit_tree</span><span class="p">:</span> <span class="err">é€€å‡ºåœºæ™¯æ ‘æ—¶è°ƒç”¨</span>
<span class="n">_physics_process</span><span class="p">:</span> <span class="err">å¤„ç†ç‰©ç†æ¨¡æ‹Ÿ</span>

<span class="n">_init</span><span class="p">:</span> <span class="err">ç±»çš„æ„é€ å‡½æ•°</span>
</code></pre></div></div>
<ul>
  <li>å‡½æ•°å¼•ç”¨ï¼šåœ¨GDä¸­ï¼Œä¸æ˜¯ç¬¬ä¸€ç±»å¯¹è±¡ï¼Œå³å‡½æ•°ä¸å¯å­˜äºå˜é‡ã€ä½œä¸ºå‚æ•°ä¼ é€’ã€ç”±å…¶ä»–å‡½æ•°è¿”å›ã€‚è¿™æ˜¯ä¸ºäº†æ€§èƒ½è€ƒè™‘ã€‚åœ¨è¿è¡Œæ—¶å¼•ç”¨å‡½æ•°åç§°ï¼ˆå¦‚å­˜äºå˜é‡ã€ä½œä¸ºå‚æ•°ä¼ é€’â€”ï¼‰ï¼Œåº”ä½¿ç”¨callæˆ–funcrefè¾…åŠ©ï¼š
``` py
    <h1 id="call-a-function-by-name-in-one-step">Call a function by name in one step.</h1>
    <p>my_node.call(â€œmy_functionâ€, args)</p>
  </li>
</ul>

<h1 id="store-a-function-reference">Store a function reference.</h1>
<p>var my_func = funcref(my_node, â€œmy_functionâ€)</p>
<h1 id="call-stored-function-reference">Call stored function reference.</h1>
<p>my_func.call_func(args)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
## GDScriptç¼–ç é£æ ¼
* ä½¿ç”¨4ä¸ªå¤§å°çš„tab
* å¦‚æœæ˜¯ç»­è¡Œï¼Œç¼©è¿›2æ¬¡
* å‡½æ•°å’Œç±»å®šä¹‰ä¹‹é—´ï¼Œç©º2è¡Œ
* ä¸€è¡Œä¸€æ¡è¯­å¥
* è¡¨è¾¾å¼å’Œæ¡ä»¶è¯­å¥ä¸­çš„æ‹¬å·ï¼Œå¦‚æ— å¿…è¦åˆ™å»æ‰ï¼š`if is_colliding():`
* è¿ç®—ç¬¦å’Œé€—å·ä¹‹åï¼Œä½¿ç”¨ç©ºæ ¼éš”å¼€ã€‚ä¸è¦ä½¿ç”¨åˆ—å¯¹é½ã€‚
* ç±»å’ŒèŠ‚ç‚¹å‘½åï¼Œä½¿ç”¨`PascalCase`æ–¹å¼ï¼š`const Rifle = preload('res://player/weapons/Rifle.gd')`
* å‡½æ•°å’Œå˜é‡ï¼šä½¿ç”¨`snake_case`
* è™šæ‹Ÿæ–¹æ³•ï¼ˆç”¨æˆ·å¿…é¡»è¦†ç›–çš„å‡½æ•°ï¼‰ä¸­ï¼Œç§æœ‰å‡½æ•°å’Œç§æœ‰å˜é‡ä¹‹å‰å‰ç¼€:`func _ready()`
* ä¿¡å·ï¼šä½¿ç”¨è¿‡å»æ—¶`signal door_opened`,`signal score_changed`
* å¸¸é‡ï¼šä½¿ç”¨`const MAX_SPEED = 200`
* èŠ‚ç‚¹å»ºè®®æ·»åŠ ç±»å‹æç¤ºï¼Œå¦åˆ™ï¼Œæ‰€æœ‰èŠ‚ç‚¹å‡è¢«ç¼–è¯‘å™¨æ¨æ–­ä¸ºNodeï¼š`onready var hp_bar: ProgressBar = get_node("UI/LifeBar")`

## å­—ç¬¦ä¸²æ“ä½œ
- å­—ç¬¦ä¸²å ä½ç¬¦ï¼š ä¸Cè¯­è¨€å ä½ç¬¦ç±»ä¼¼
``` python
# %s, ä½œä¸ºå­—ä¸²å ä½ç¬¦ï¼Œå ä½ç¬¦æ€»æ˜¯ä»¥%å¼€å§‹ã€‚
var str = "%s waiting for %s"
var actual_string = str % ["Amual" ,"Godot" ]
</code></pre></div></div>
<p>å…¶ä»–çš„å ä½ç¬¦ï¼š</p>
<ul>
  <li>c å•ä¸ªunicodeå­—ç¬¦</li>
  <li>d åè¿›åˆ¶æ•´æ•°</li>
  <li>o å…«è¿›åˆ¶æ•´æ•°</li>
  <li>x å°å†™åå…­è¿›åˆ¶æ•´æ•°</li>
  <li>X å¤§å†™åå…­è¿›åˆ¶æ•´æ•°</li>
  <li>f åè¿›åˆ¶å®æ•°
å ä½ç¬¦å‰ç¼€ï¼š</li>
  <li>
    <ul>
      <li>åŠ å·</li>
    </ul>
  </li>
  <li>æ•°å­—ï¼š ç©ºæ ¼å¡«å……çš„</li>
  <li>. ç²¾åº¦</li>
  <li>
    <ul>
      <li>å³å¡«å……</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>åŠ¨æ€å¡«å……
string.formatæ‹¥æœ‰ç±»ä¼¼C#ä¸­çš„å ä½ç¬¦ï¼š` â€œ{0} waiting for {1}â€.format([â€œAmualâ€, â€˜Godotâ€™])</li>
    </ul>
  </li>
</ul>

<h1 id="é¡¹ç›®ç»„ç»‡æ–¹å¼">é¡¹ç›®ç»„ç»‡æ–¹å¼ï¼š</h1>
<p>å°†èµ„æºæŒ‰ç…§åœºæ™¯åˆ†ç»„ã€‚ä¾‹å¦‚ï¼š</p>
<blockquote>
  <p>/project.godot
/docs/.gdignore
/docs/learning.html
/models/town/house/house.dae
/models/town/house/window.png
/models/town/house/door.png
/characters/player/cubio.dae
/characters/player/cubio.png
/characters/enemies/goblin/goblin.dae
/characters/enemies/goblin/goblin.png
/characters/npcs/suzanne/suzanne.dae
/characters/npcs/suzanne/suzanne.png
/levels/riverdale/riverdale.scn</p>
</blockquote>

<h1 id="æœ€ä½³å®è·µ">æœ€ä½³å®è·µï¼š</h1>
<!-- [å‚è§](https://docs.godotengine.org/zh_CN/latest/getting_started/workflow/best_practices/what_are_godot_classes.html) -->
<p>åœ¨Godotä¸­ï¼Œè„šæœ¬å’Œåœºæ™¯éƒ½å¯¹åº”OOPä¸­çš„ç±»ã€‚æœ€å¤§çš„ä¸åŒæ˜¯ï¼šåœºæ™¯æ˜¯æè¿°å‹ä»£ç ï¼Œè€Œè„šæœ¬åŒ…å«å‘½ä»¤å‹ä»£ç ã€‚å³ï¼šä»¥æ–‡ä»¶å­˜å‚¨çš„ç±»ï¼Œè¢«å½“ä½œèµ„æºã€‚åœ¨å…¶ä»–ç±»ä¸­è®¿é—®å®ƒä»¬ï¼Œå¿…é¡»ä»ç£ç›˜è½½å…¥ã€‚å¯ä½¿ç”¨<code class="highlighter-rouge">load</code>å’Œ<code class="highlighter-rouge">preload</code>å‡½æ•°ã€‚å®ä¾‹åŒ–åŠ è½½çš„ç±»èµ„æºï¼Œé€šè¿‡è°ƒç”¨<code class="highlighter-rouge">new</code>å‡½æ•°å®ä¾‹åŒ–ï¼š</p>
<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å½“è°ƒç”¨load()æ—¶åŠ è½½ç±»èµ„æº
</span><span class="n">var</span> <span class="n">my_class</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="s">"myclass.gd"</span><span class="p">)</span>
<span class="c1"># åœ¨ç¼–è¯‘æ—¶åªé¢„åŠ è½½ç±»ä¸€æ¬¡
</span><span class="n">const</span> <span class="n">MyClass</span>  <span class="o">=</span> <span class="n">preload</span><span class="p">(</span><span class="s">"myclass.gd"</span><span class="p">)</span>

<span class="n">func</span> <span class="n">_init</span><span class="p">():</span>
    <span class="n">var</span> <span class="n">a</span> <span class="o">=</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
    <span class="n">a</span><span class="o">.</span><span class="n">some_func</span><span class="p">()</span>
</code></pre></div></div>
<p>Godotæä¾›å†…ç½®ç±»ï¼Œä»æŠ€æœ¯è§’åº¦è€Œè¨€ï¼Œç”¨æˆ·åˆ›å»ºçš„ç±»å‹ï¼Œå¹¶éç±»ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œå®ƒä»¬æ˜¯èµ„æºï¼Œå‘ŠçŸ¥å¼•æ“æ‰§è¡Œå¯¹å†…ç½®ç±»çš„ä¸€ç³»åˆ—åˆå§‹åŒ–ã€‚</p>

<p>Godotå†…éƒ¨ç±»æ³¨å†Œè‡³<code class="highlighter-rouge">ClassDB</code>ã€‚æ­¤æ•°æ®åº“æä¾›è¿è¡Œæ—¶è®¿é—®ç±»ä¿¡æ¯çš„åŠŸèƒ½ã€‚<code class="highlighter-rouge">ClassDB</code>åŒ…å«ç±»çš„ä¿¡æ¯ï¼š</p>
<ul>
  <li>å±æ€§</li>
  <li>æ–¹æ³•</li>
  <li>å¸¸é‡</li>
  <li>ä¿¡å·</li>
</ul>

<p>å½“æ‰§è¡Œè®¿é—®å±æ€§æˆ–è°ƒç”¨å‡½æ•°è¿™æ ·çš„æ“ä½œæ—¶ï¼Œä¼šä»<code class="highlighter-rouge">ClassDB</code>ä¸­æ£€æµ‹è¿™é¡¹çºªå½•ï¼Œä»¥ç¡®ä¿å½“å‰æ“ä½œæ˜¯å¦è¢«æ”¯æŒã€‚åœ¨å¼•æ“æ–¹é¢ï¼Œæ¯ä¸ªç±»å®šä¹‰äº†é™æ€çš„<code class="highlighter-rouge">_bind_methods</code>å‡½æ•°ä»¥æè¿°æ³¨å†Œå“ªäº›C++å†…å®¹ä»¥åŠå¦‚ä½•æ³¨å†Œåˆ°æ•°æ®åº“ä¸­ã€‚å½“ä½¿ç”¨å¼•æ“æ—¶ï¼Œå¯é€šè¿‡é™„ç€è„šæœ¬åˆ°èŠ‚ç‚¹ï¼Œä»¥æ‰©å±•æ–¹æ³•ã€å±æ€§ã€ä¿¡å·ã€‚</p>

<p>å¯¹è±¡å…ˆäºæ•°æ®åº“æ£€æµ‹å®ƒä»¬é™„ç€çš„è„šæœ¬ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè„šæœ¬èƒ½è¦†ç›–å†…ç½®å‡½æ•°ã€‚å¦‚æœè„šæœ¬å®šä¹‰äº†<code class="highlighter-rouge">_get_property_list()</code>æ–¹æ³•ï¼ŒGodotå°†ä¼šé™„åŠ æ­¤å±æ€§è‡³ä»ClassDBä¸­æ‰¾åˆ°çš„å¯¹è±¡å±æ€§åˆ—è¡¨ä¸­ã€‚è¿™ä¹Ÿé€‚ç”¨äºæè¿°å‹ä»£ç ã€‚</p>

<p>å³ä½¿è„šæœ¬ä¸æ˜¯ç»§æ‰¿è‡ªå†…ç½®ç±»å‹ï¼Œå¦‚ï¼Œè„šæœ¬ä¸ä»¥<code class="highlighter-rouge">extends</code>å¼€å¤´ï¼Œéšå¼ç»§æ‰¿è‡ª<code class="highlighter-rouge">Reference</code>ï¼Œåˆ™æ­¤è„šæœ¬ä¹Ÿå¯å®ä¾‹åŒ–ï¼Œä½†ä¸èƒ½é™„åŠ åˆ°èŠ‚ç‚¹ä¸Šã€‚</p>

<p>åœºæ™¯å’Œè„šæœ¬éƒ½æ˜¯å¯¹è±¡ï¼Œæœ€å¸¸ç”¨çš„æƒ…å½¢æ˜¯ï¼Œè„šæœ¬é™„ç€åœ¨åœºæ™¯çš„æ ¹èŠ‚ç‚¹ï¼Œç”¨äºæ§åˆ¶åœºæ™¯ä¸­çš„å­èŠ‚ç‚¹ã€‚å³å¯ä»¥è¿™æ ·ç†è§£ï¼Œåœºæ™¯é€šå¸¸æ˜¯è„šæœ¬çš„æè¿°å‹ä»£ç çš„æ‰©å±•ã€‚åœºæ™¯çš„å†…å®¹ï¼Œç”¨äºè¾…åŠ©å®šä¹‰ï¼š</p>
<ul>
  <li>å“ªäº›èŠ‚ç‚¹å¯ä¾›è„šæœ¬ä½¿ç”¨</li>
  <li>å®ƒä»¬è¢«å¦‚ä½•ç»„ç»‡èµ·æ¥</li>
  <li>å®ƒä»¬æ€ä¹ˆè¢«åˆå§‹åŒ–</li>
  <li>æ¯ä¸ªèŠ‚ç‚¹éƒ½è¿æ¥åˆ°å“ªäº›ä¿¡å·
åœºæ™¯ä¹Ÿé€šå¸¸æ˜¯è„šæœ¬é™„ç€äºæ ¹èŠ‚ç‚¹çš„æ‰©å±•ã€‚ä½ å¯çœ‹åˆ°ï¼Œåœºæ™¯åŒ…å«çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½ä½œä¸ºå•ç‹¬ç±»çš„ä¸€éƒ¨åˆ†ã€‚æ‰€æœ‰çš„æ¦‚å¿µéƒ½åŸºäºæ­¤ã€‚</li>
</ul>

:ET