I"K<p>è™šå¹»4å¼•æ“ä¸­ä¸åœºæ™¯ç›¸å…³çš„å‡ ä¸ªæ¦‚å¿µï¼š</p>

<ul>
  <li>
    <p>å…³å¡ï¼ˆLevelï¼‰ï¼šUE4ä¸­çš„æ¸¸æˆåœºæ™¯ï¼Œæœ€ä¸ºå¸¸ç”¨çš„æ¦‚å¿µã€‚</p>
  </li>
  <li>
    <p>åœ°å›¾ï¼ˆMapï¼‰ï¼šåœ°å›¾æ˜¯ç¼–è¾‘å¥½çš„åœºæ™¯ï¼Œä¿å­˜ä¸º.umapæ–‡ä»¶ã€‚ä¸€ä¸ªå·¥ç¨‹å¯ä»¥æœ‰å¾ˆå¤šumapæ–‡ä»¶ã€‚åœ¨UE4ä¸­ï¼Œä¸€ä¸ªLevelå¯ç”±å¤šä¸ªumapç»„åˆè€Œæˆã€‚åœ¨UE4ä¸­ï¼Œåªæœ‰<code class="highlighter-rouge">UEngine::LoadMap</code>ä¸ä¹‹ç›¸å…³ã€‚</p>

    <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">/// é€šè¿‡UMAPæ–‡ä»¶èµ„æºåŠ è½½å…³å¡</span>
  
<span class="n">UWorld</span><span class="o">*</span> <span class="n">PersistentWorld</span> <span class="o">=</span> <span class="n">GetWorld</span><span class="p">();</span>
  
<span class="c1">// æ–°å»ºæµå¼å…³å¡</span>
<span class="n">UClass</span><span class="o">*</span> <span class="n">StreamingClass</span> <span class="o">=</span> <span class="n">ULevelStreamingKismet</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">();</span>
<span class="n">ULevelStreaming</span><span class="o">*</span> <span class="n">StreamingLevel</span> <span class="o">=</span> <span class="n">Cast</span><span class="o">&lt;</span><span class="n">ULevelStreaming</span><span class="o">&gt;</span><span class="p">(</span><span class="n">StaticConstructObject</span><span class="p">(</span><span class="n">StreamingClass</span><span class="p">,</span> <span class="n">PersistentWorld</span><span class="p">,</span> <span class="n">NAME_None</span><span class="p">,</span> <span class="n">RF_Transient</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">));</span>
   
<span class="c1">// FName PackageName = TEXT("/Game/TempUmap/Level_01") æ ¹æ®é¡¹ç›®å®é™…æƒ…å†µè·å–å¹¶è®¾ç½®PackageName</span>
<span class="n">StreamingLevel</span><span class="o">-&gt;</span><span class="n">SetWorldAssetByPackageName</span><span class="p">(</span><span class="n">PackageName</span><span class="p">);</span>
   
<span class="n">StreamingLevel</span><span class="o">-&gt;</span><span class="n">bShouldBeLoaded</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
<span class="n">StreamingLevel</span><span class="o">-&gt;</span><span class="n">bShouldBeVisible</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="c1">// åŠ è½½åå¯è§</span>
<span class="n">StreamingLevel</span><span class="o">-&gt;</span><span class="n">bShouldBlockOnLoad</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
   
<span class="n">StreamingLevel</span><span class="o">-&gt;</span><span class="n">PackageNameToLoad</span> <span class="o">=</span> <span class="n">PackageName</span><span class="p">;</span> <span class="c1">// !éå¸¸é‡è¦ï¼šåŠ è½½çš„èµ„æºåŒ…åç§°</span>
  
<span class="n">PersistentWorld</span><span class="o">-&gt;</span><span class="n">StreamingLevels</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">StreamingLevel</span><span class="p">);</span> 
  
</code></pre></div>    </div>
  </li>
  <li>
    <p>ä¸–ç•Œï¼ˆWorldï¼‰ï¼šå¯ç”±å¤šä¸ªå­Levelç»„æˆã€‚</p>
  </li>
</ul>

<p>åŸºäºæ­¤ï¼Œè™šå¹»4æä¾›äº†ä»¥ä¸‹å‡»ä¸­åŠ è½½åœºæ™¯æ–¹å¼ï¼š</p>

<ul>
  <li>LevelStreamingVolumeï¼šæ˜¯å¯æ”¾ç½®åœ¨å…³å¡ä¸­çš„Actorï¼Œå½“Pawnè¿›å…¥æ­¤Volumeæ—¶ï¼Œå³å¯åŠ è½½å¯¹åº”å…³å¡ã€‚å¯å®ç°æ— ç¼åœ°å›¾åŠ è½½ã€‚</li>
  <li>ä½¿ç”¨è“å›¾åŠ è½½ï¼šéœ€è¦ç”¨åˆ°LoadStreamLevelæˆ–OpenLevelèŠ‚ç‚¹ã€‚
    <ul>
      <li>OpenLevelï¼šä¼šé˜»å¡å¼åŠ è½½ï¼Œæ¸¸æˆä¼šåœ¨åŠ è½½æ—¶â€œå¡æ­»â€ã€‚</li>
      <li>LoadStreamLevelï¼šä¼šå¼‚æ­¥åŠ è½½ï¼Œæ­¤æ—¶å¯æ˜¾ç¤ºåŠ è½½ç•Œé¢æˆ–æ’­æ”¾è¿‡ç¨‹åŠ¨ç”»ç­‰ã€‚</li>
    </ul>
  </li>
  <li>ä½¿ç”¨ä»£ç åŠ è½½ï¼šé€šè¿‡<code class="highlighter-rouge">UGameplayStatics::LoadStreamLevel</code>åŠ è½½ã€‚</li>
</ul>

:ET